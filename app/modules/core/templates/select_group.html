{% extends "base.html" %}
{% block content %}
<h2>选择群组</h2>
<hr>
<div class="list-group">
    {% for g in groups %}
    <div class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
        <div>
            <h5 class="mb-1">{{ g.title }}</h5>
            <small>ID: {{ g.chat_id }}</small>
        </div>
        <div>
            <a href="/core/group/{{ g.id }}/dashboard" class="btn btn-primary btn-sm">管理</a>
            <button class="btn btn-danger btn-sm" onclick="delGroup({{ g.id }})">删除</button>
        </div>
    </div>
    {% endfor %}
    {% if not groups %}
    <div class="alert alert-warning">暂无群组，请将机器人拉入群组并给管理员权限。</div>
    {% endif %}
</div>
<script>
function delGroup(id){ if(confirm('确定删除?')) postApi('/core/api/toggle_group',{id:id,action:'delete'}); }
</script>
{% endblock %}
